%% requirements

\newenvironment{function}[1]{
	\subsection{Product function: #1}
	\label{func:#1}
}
{}

\newenvironment{mockup}[1]{
	\section{#1}
	
	\begin{figure}[H]
		\centering
		\caption{Mockup: #1}
		\label{mock:#1}
}
{
	\end{figure}	
}

%\newcommand{\mockref}[1]{\ref{mock:#1}}
%\newcommand{\funcref}[1]{\ref{func:#1}}

\newenvironment{requirement}[1]{
	%\stepcounter{subsubsection}
	\subsubsection{#1}
	\label{req:#1}
	
	\newcommand{\header}[1]{\textbf{##1}}
	\newcommand{\cellspace}{}
	\newcommand{\Row}[2]{\hline \header{##1} & \cellspace ##2 \cellspace \\}
	
	\newcommand{\Identifier}{\hline \header{Identifier} & \header{\thesubsubsection} \\}
	\newcommand{\Title}{\Row{Title}{#1}}

	\newcommand{\Specification}[1]{
		\Row{Specification}{
			\begin{singlespace}
				##1
			\end{singlespace}
		}
	}

	\newcommand{\Category}[1]{\hline \header{Category} & ##1 \\}
	\newcommand{\FitCriterion}[1]{\hline \header{Fit criterion} & ##1 \\}
	\newcommand{\Source}[1]{\hline \header{Source} & ##1 \\}
	\newcommand{\Rationale}[1]{\hline \header{Rationale} & ##1 \\}
	\newcommand{\Interaction}[1]{\hline \header{Interaction} & ##1 \\}
	\newcommand{\Priority}[1]{\hline \header{Priority} & ##1 \\}
	\newcommand{\Stability}[1]{\hline \header{Stability} & ##1 \\}
	\newcommand{\High}{\Priority{Essential}}
	\newcommand{\Medium}{\Priority{Medium}}
	\newcommand{\Low}{\Priority{Low}}
	\newcommand{\Function}[1]{\hline \header{Implemented product functions} & ##1 \\}
	\newcommand{\Systemwide}{\Function{Systemwide}}
	\newcommand{\Mockup}[1]{\Row{See Mockup}{##1}}
	
	\begin{doublespace}
	\begin{tabular}{|p{0.35\textwidth}|p{0.65\textwidth}|}
		\Identifier
		\Title
}
{
		\hline 
	\end{tabular} 
	\end{doublespace}
}
\setcounter{secnumdepth}{3}
\newcommand{\TBD}{\textbf{To be defined}}

\newcommand{\reference}[2]{\glqq #1\grqq{} (\ref{#2:#1})}

\newcommand{\reqref}[1]{\reference{#1}{req}}
\newcommand{\mockref}[1]{\reference{#1}{mock}}
\newcommand{\funcref}[1]{\reference{#1}{func}}
